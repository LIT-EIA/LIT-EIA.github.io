<html>

<head>
    <title>CK Editor Upgrade - Adapt Authoring Tool</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="//cdn.ckeditor.com/4.21.0/full-all/ckeditor.js"></script>
    <script src="./ck4.js"></script>
    <script src="./ckeditor.js"></script>
    <link rel="stylesheet" href="./styles/shepherd.css" />
    <script src="./shepherd.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900');

        :root {
            color-scheme: light dark
        }

        body {
            color: rgba(255, 255, 255, 0.65);
            background: #24292e;

            margin: 0;
            font-family: "Roboto";
        }

        .mainContent {
            display: flex;
        }

        .mainContent .panel {
            width: 50%;
        }

        .left {
            padding: 0 15px 0 0;
        }

        .right {
            padding: 0 0 0 15px;
        }

        .title {
            padding: 20px 50px;
            text-align: center;
            text-transform: uppercase;
            background: #105067;
            color: #fff;
        }

        .subtitles {
            text-transform: uppercase;
        }

        .introduction {
            font-size: 15px;
            margin: 30px 0;
        }

        .ck.ck-editor__main {
            color: #000;
            font-size: 13px;
        }

        .college {
            display: inline;
            margin: 0px 0px 0px 45px;
            font-weight: 400;
            font-size: 19px;
        }

        #header {
            display: flex;
            padding: 30px 30px;
            margin: 0px auto;
            align-items: center;
            -webkit-text-size-adjust: 100%;
            color-scheme: light dark;
            font-size: 14px;
            line-height: 1.5;
            font-family: "Roboto";
            color: rgba(255, 255, 255, 0.65);
            box-sizing: border-box;
            display: flex;
            padding: 30px 30px;
            margin: 0px auto;
            align-items: center;
            max-width: 1280px;
        }

        a {
            text-decoration: none;
        }

        a:hover,
        a:active {
            text-decoration: underline;
        }

        @media (min-width: 1012px) {
            #header {
                max-width: 1012px;
            }
        }

        @media (min-width: 1280px) {
            #header {
                max-width: 1280px;
            }
        }

        .subsection-title {
            padding: 15px 0px;
        }

        h1 {
            font-size: 30px;
        }

        h2 {
            font-size: 20px;
            font-weight: 400;
        }

        h3 {
            font-weight: normal;
            font-size: 120%;
        }

        .sr-only {
            clip: rect(1px, 1px, 1px, 1px);
            clip-path: inset(50%);
            height: 1px;
            overflow: hidden;
            position: absolute;
            white-space: nowrap;
            width: 1px;
            margin: -1px;
        }

        .langswitcher {
            margin-left: auto;
            order: 2;
            color: #b2b4b6;
        }

        .container-new {
            max-width: 980px;
            margin-right: auto;
            margin-left: auto
        }

        @media (min-width: 1012px) {
            .container-new {
                max-width: 955px
            }
        }

        @media (min-width: 1280px) {
            .container-new {
                max-width: 1220px
            }
        }

        .shepherd-title {
            color: #eaeaea;
        }

        .shepherd-header {
            background: #105067 !important;
        }

        .shepherd-text {
            color: #000;
        }

        .shepherd-content {
            background: #bfbfbf;
        }

        .shepherd-button {
            background: #105067;
        }

        .shepherd-arrow {
            filter: contrast(0.5);
        }

        .shepherd-element a {
            color: blue;
        }
        
        .sup-label {
            font-size: 60%;
            vertical-align: middle;
        }
    </style>
</head>

<body>
    <div id="header">
        <img alt="Adapt" src="./images/adapt.png">
        <h2 class="college">CK Editor Upgrade</h2>
        <a lang="fr" class="langswitcher" href="/fr/adapt/ckeditor/">Fran√ßais</a>
    </div>
    <div class="mainDiv container-new">
        <p class="introduction">In the following section, you can familiarize yourseilf with the new editor that will be
            integrated shortly and compare it to the current editor.</p>
        <div class="mainContent">
            <div class="panel left">
                <h2 class="subtitles">Current Editor <span class="sup-label">(CK Editor 4)</span></h2>
                <textarea id="editor4">
                    <p>
                        <strong>Here are the key highlights of the new CK Editor 5</strong>
                    </p>
                    <p>
                        <strong>1. User-Friendly Accessibility:</strong>
                    </p>
                    <ul>
                        <li>
                            <strong>Right-Click Actions:</strong> The new editor promotes accessibility by eliminating right-click actions. All functions previously accessible through right-click are now conveniently available through single clicks or keyboard actions within the UI.
                        </li>
                        <li>
                            <strong>Dynamic Text Display:</strong> Say goodbye to internal scrollbars! The upgraded editor dynamically adjusts its size on the page, ensuring a seamless display of large text without the need for internal scrollbars.
                        </li>
                    </ul>
                    <p>
                        <strong>2. Smart Text Pasting:</strong>
                    </p>
                    <ul>
                        <li>
                            <strong>Paste Intelligence:</strong> Forget about "paste as plain text" and "paste from word" buttons. The advanced editor can now intelligently detect the source of pasted text, automatically converting and filtering out non-valid formatting. If needed, a new "Remove Format" button is at your disposal to strip selected text of its formatting while preserving essential non-styling elements like links.
                        </li>
                    </ul>
                    <p>
                        <strong>3. Font Control:</strong>
                    </p>
                    <ul>
                        <li>
                            <strong>Font Size Customization:</strong> Introducing the "Font Size" button, allowing you to easily adjust the font size of selected text. Font sizes are limited to two sizes larger than the default size to ensure accessibility.
                        </li>
                    </ul>
                    <p>
                        <strong>4. Enhanced Content Editing:</strong>
                    </p>
                    <ul>
                        <li>
                            <strong>Symbol Menu:</strong> The editor now features a dedicated menu for adding symbols, including mathematical symbols, making it simpler to incorporate HTML symbols into your content.
                        </li>
                        <li>
                            <strong>Improved Table Creation:</strong> Introducing a more intuitive table creation UI, similar to the Office suite. Visually edit tables with ease to create professional-looking content effortlessly.
                        </li>
                        <li>
                            <strong>Abbreviation Functionality:</strong> A new "Abbreviation" button lets you add full-text to your abbreviations and acronyms by adding HTML abbreviations (abbr) to selected text, enhancing the richness, clarity and accessibility of your content.
                        </li>
                        <li>
                            <strong>Language of Parts:</strong> The "Language of Parts" button has been improved to allow you to set the opposite language of the course more easily, minimizing confusion and streamlining the language selection process.
                        </li>
                    </ul>
                </textarea>
            </div>
            <div class="panel right">
                <h2 class="subtitles">New Editor <span class="sup-label">(CK Editor 5)</span></h2>
                <div id="editor5">
                    <p>
                        <strong>Here are the key highlights of the new CK Editor 5</strong>
                    </p>
                    <p>
                        <strong>1. User-Friendly Accessibility:</strong>
                    </p>
                    <ul>
                        <li>
                            <strong>Right-Click Actions:</strong> The new editor promotes accessibility by eliminating
                            right-click actions. All functions previously accessible through right-click are now
                            conveniently available through single clicks or keyboard actions within the UI.
                        </li>
                        <li>
                            <strong>Dynamic Text Display:</strong> Say goodbye to internal scrollbars! The upgraded
                            editor dynamically adjusts its size on the page, ensuring a seamless display of large text
                            without the need for internal scrollbars.
                        </li>
                    </ul>
                    <p>
                        <strong>2. Smart Text Pasting:</strong>
                    </p>
                    <ul>
                        <li>
                            <strong>Paste Intelligence:</strong> Forget about "paste as plain text" and "paste from
                            word" buttons. The advanced editor can now intelligently detect the source of pasted text,
                            automatically converting and filtering out non-valid formatting. If needed, a new "Remove
                            Format" button is at your disposal to strip selected text of its formatting while preserving
                            essential non-styling elements like links.
                        </li>
                    </ul>
                    <p>
                        <strong>3. Font Control:</strong>
                    </p>
                    <ul>
                        <li>
                            <strong>Font Size Customization:</strong> Introducing the "Font Size" button, allowing you
                            to easily adjust the font size of selected text. Font sizes are limited to two sizes larger than
                            the default size to ensure accessibility.
                        </li>
                    </ul>
                    <p>
                        <strong>4. Enhanced Content Editing:</strong>
                    </p>
                    <ul>
                        <li>
                            <strong>Symbol Menu:</strong> The editor now features a dedicated menu for adding symbols,
                            including mathematical symbols, making it simpler to incorporate HTML symbols into your
                            content.
                        </li>
                        <li>
                            <strong>Improved Table Creation:</strong> Introducing a more intuitive table creation UI,
                            similar to the Office suite. Visually edit tables with ease to create professional-looking
                            content effortlessly.
                        </li>
                        <li>
                            <strong>Abbreviation Functionality:</strong> A new "Abbreviation" button lets you add
                            full-text to your abbreviations and acronyms by adding HTML abbreviations (abbr) to selected
                            text, enhancing the richness, clarity and accessibility of your content.
                        </li>
                        <li>
                            <strong>Language of Parts:</strong> The "Language of Parts" button has been improved to
                            allow you to set the opposite language of the course more easily, minimizing confusion and
                            streamlining the language selection process.
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            let defaultLanguage = 'en';

            let textLanguageParts = [
                defaultLanguage === 'en' ? { title: 'Fran√ßais', languageCode: 'fr' } : { title: 'English', languageCode: 'en' }
            ];


            var language = 'en';
            var watchdog = new CKSource.EditorWatchdog();
            watchdog.setCreator((element, config) => {
                return CKSource.Editor
                    .create(element, config)
                    .then(editor => {
                        const textpart = editor.ui.view.toolbar.items.find(button => $(button.element).hasClass('ck-text-fragment-language-dropdown'));
                        if (textpart) {
                            const label = language === 'en' ? 'Language of Parts' : 'Langue d‚Äôun passage';
                            $(textpart.element).find('.ck-button__label').text(label);
                        }
                        return editor;
                    });
            });

            watchdog
                .create(document.querySelector('#editor5'), {
                    language: {
                        ui: language,
                        textPartLanguage: textLanguageParts
                    },
                    unsafeElements: false,
                    htmlSupport: {
                        allow: [
                            {
                                // name: /^(div|span|svg|abbr|path)$/,
                                name: /.*/,
                                attributes: true,
                                classes: true,
                                styles: true,
                                content: true
                            }
                        ],
                        disallow: [
                            {
                                name: /^(script|video|audio|img|var)$/
                            }
                        ]
                    },
                    additionalLanguages: ['en', 'fr'],
                    fontSize: {
                        options: [
                            'default',
                            'big',
                            'huge'
                        ]
                    },
                    toolbar: {
                        items: [
                            'sourceEditing', 'showBlocks', '|',
                            'undo', 'redo', '|',
                            'findAndReplace', 'selectAll', '|',
                            'fontSize', '|',
                            'bold', 'italic', 'underline', 'strikethrough', 'subscript', 'superscript', 'removeFormat', '|',
                            'numberedList', 'bulletedList', 'alignment', 'indent', 'outdent', '|',
                            'blockQuote', '|',
                            'link', '|',
                            'fontColor', 'fontBackgroundColor', '|',
                            'specialCharacters', 'insertTable', '|', 'abbreviation', 'textPartLanguage'
                        ],
                        shouldNotGroupWhenFull: true
                    }
                })
                .catch((error) => { });
            this.editor = watchdog;
        })
    </script>

    <script>
        const tour = new Shepherd.Tour({
            defaultStepOptions: {
                cancelIcon: {
                    enabled: true
                },
                classes: 'class-1 class-2',
                scrollTo: { behavior: 'smooth', block: 'center' }
            }
        });

        tour.addStep({
            title: 'CK Editor Upgrade',
            text: 'We are thrilled to announce a significant upgrade to the Adapt Authoring Tool\'s editor, transitioning from CK Editor version 4 to version 5. This upgrade brings forth a host of new features and improvements that will enhance your content creation experience.',
            buttons: [
                {
                    action() {
                        return tour.cancel();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Close'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ],
            id: 'introduction'
        });

        tour.addStep({
            id: 'right-click',
            title: 'Right-Click Actions',
            text: 'The new editor promotes accessibility by eliminating right-click actions. All functions previously accessible through right-click are now conveniently available through single clicks or keyboard actions within the UI.',
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ]
        });

        tour.addStep({
            id: 'scrollbars',
            title: 'Dynamic Text Display',
            text: 'Say goodbye to internal scrollbars! The upgraded editor dynamically adjusts its size on the page, ensuring a seamless display of large text without the need for internal scrollbars.',
            attachTo: {
                element: '.cke_editor_editor4',
                on: 'right'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ]
        });

        tour.addStep({
            id: 'paste-1',
            title: 'Paste Intelligence',
            text: 'Forget about "paste as plain text" and "paste from word" buttons. The advanced editor can now intelligently detect the source of pasted text, automatically converting and filtering out non-valid formatting.',
            attachTo: {
                element: '.cke_button__pastefromword',
                on: 'right'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ]
        });

        tour.addStep({
            id: 'paste-1',
            title: 'Paste Intelligence',
            text: 'If needed, a new "Remove Format" button is at your disposal to strip selected text of its formatting while preserving essential non-styling elements like links.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Remove Format"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ]
        });

        tour.addStep({
            id: 'font-control',
            title: 'Font Size Customization',
            text: 'Introducing the "Font Size" button, allowing you to easily adjust the font size of selected text. Font sizes are limited to two sizes larger than the default size to ensure accessibility.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Font Size"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ]
        });

        tour.addStep({
            id: 'symbol-menu',
            title: 'Special Characters',
            text: 'The editor now features a dedicated menu for adding symbols, including mathematical symbols, making it simpler to incorporate HTML symbols into your content.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Special characters"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ]
        });

        tour.addStep({
            id: 'table-menu',
            title: 'Improved Table Creation',
            text: 'Introducing a more intuitive table creation UI, similar to the Office suite. Visually edit tables with ease to create professional-looking content effortlessly.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Insert table"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ]
        });

        tour.addStep({
            id: 'abbr-menu',
            title: 'Abbreviation Functionality',
            text: 'A new "Abbreviation" button lets you add full-text to your abbreviations and acronyms by adding HTML abbreviations (abbr) to selected text, enhancing the richness, clarity and accessibility of your content.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Abbreviation"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ]
        });

        tour.addStep({
            id: 'lang-part-menu',
            title: 'Language of Parts',
            text: 'The "Language of Parts" button has been improved to allow you to set the opposite language of the course more easily, minimizing confusion and streamlining the language selection process.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Language"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ]
        });

        tour.addStep({
            id: 'conclusion',
            title: 'Conclusion',
            text: 'This brings the guided tour to an end. After you close this dialog box, you will be able to use the editor to get acquainted with it. If you have any further questions plese consult your Adapt Authoring Tool Project Team (ATPT) representative or contact us at: <a href="mailto:EDSC.DGSRH.STAA-TSBA.HRSB.ESDC@hrsdc-rhdcc.gc.ca?subject=Technical%20Support%20-%20CK%20Editor%205">EDSC.DGSRH.STAA-TSBA.HRSB.ESDC@hrsdc-rhdcc.gc.ca</a>',
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return tour.cancel();
                    },
                    text: 'Close'
                }
            ]
        });

        tour.start();
    </script>
</body>

</html>