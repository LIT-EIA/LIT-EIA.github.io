<html lang="fr">

<head>
    <title>Mise à niveau de CK Editor - Outil-auteur Adapt</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="//cdn.ckeditor.com/4.21.0/full-all/ckeditor.js"></script>
    <script src="./ck4.js"></script>
    <script src="./ckeditorTranslationFr.js"></script>
    <script src="./ckeditor.js"></script>
    <link rel="stylesheet" href="./styles/shepherd.css" />
    <script src="./shepherd.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900');

        :root {
            color-scheme: light dark
        }

        body {
            color: rgba(255, 255, 255, 0.65);
            background: #24292e;

            margin: 0;
            font-family: "Roboto";
        }

        .mainContent {
            display: flex;
        }

        .mainContent .panel {
            width: 50%;
        }

        .left {
            padding: 0 15px 0 0;
        }

        .right {
            padding: 0 0 0 15px;
        }

        .title {
            padding: 20px 50px;
            text-align: center;
            text-transform: uppercase;
            background: #105067;
            color: #fff;
        }

        .subtitles {
            text-transform: uppercase;
        }

        .introduction {
            font-size: 15px;
            margin: 30px 0;
        }

        .ck.ck-editor__main {
            color: #000;
            font-size: 13px;
        }

        .college {
            display: inline;
            margin: 0px 0px 0px 45px;
            font-weight: 400;
            font-size: 19px;
        }

        #header {
            display: flex;
            padding: 30px 30px;
            margin: 0px auto;
            align-items: center;
            -webkit-text-size-adjust: 100%;
            color-scheme: light dark;
            font-size: 14px;
            line-height: 1.5;
            font-family: "Roboto";
            color: rgba(255, 255, 255, 0.65);
            box-sizing: border-box;
            display: flex;
            padding: 30px 30px;
            margin: 0px auto;
            align-items: center;
            max-width: 1280px;
        }

        a {
            text-decoration: none;
        }

        a:hover,
        a:active {
            text-decoration: underline;
        }

        @media (min-width: 1012px) {
            #header {
                max-width: 1012px;
            }
        }

        @media (min-width: 1280px) {
            #header {
                max-width: 1280px;
            }
        }

        .subsection-title {
            padding: 15px 0px;
        }

        h1 {
            font-size: 30px;
        }

        h2 {
            font-size: 20px;
            font-weight: 400;
        }

        h3 {
            font-weight: normal;
            font-size: 120%;
        }

        .sr-only {
            clip: rect(1px, 1px, 1px, 1px);
            clip-path: inset(50%);
            height: 1px;
            overflow: hidden;
            position: absolute;
            white-space: nowrap;
            width: 1px;
            margin: -1px;
        }

        .langswitcher {
            margin-left: auto;
            order: 2;
            color: #b2b4b6;
        }

        .container-new {
            max-width: 980px;
            margin-right: auto;
            margin-left: auto
        }

        @media (min-width: 1012px) {
            .container-new {
                max-width: 955px
            }
        }

        @media (min-width: 1280px) {
            .container-new {
                max-width: 1220px
            }
        }

        .shepherd-title {
            color: #eaeaea;
        }

        .shepherd-header {
            background: #105067 !important;
        }

        .shepherd-text {
            color: #000;
        }

        .shepherd-content {
            background: #bfbfbf;
        }

        .shepherd-button {
            background: #105067;
        }

        .shepherd-arrow {
            filter: contrast(0.5);
        }

        .shepherd-element a {
            color: blue;
        }

        .sup-label {
            font-size: 60%;
            vertical-align: middle;
        }
    </style>
</head>

<body>
    <div id="header">
        <img alt="Adapt" src="./images/adapt.png">
        <h2 class="college">Mise à niveau <span lang="en">CK Editor</span></h2>
        <a lang="en" class="langswitcher" href="/en/adapt/ckeditor/">English</a>
    </div>
    <div class="mainDiv container-new">
        <p class="introduction">
            Dans la section suivante, vous pouvez vous familiariser avec le nouvel éditeur qui sera bientôt intégré et
            le comparer à l'éditeur actuel.
        </p>
        <div class="mainContent">
            <div class="panel left">
                <h2 class="subtitles">Éditeur actuel <span class="sup-label" lang="en">(CK Editor 4)</span></h2>
                <textarea id="editor4">
                    <p>
                        <strong>Voici les principales caractéristiques du nouveau CK Editor 5</strong>
                    </p>
                    <ol>
                        <li>
                            <strong>Accessibilité conviviale :</strong>
                            <ul>
                                <li>
                                    Actions par clic droit : Le nouvel éditeur favorise l'accessibilité en éliminant les actions par clic droit. Toutes les fonctions précédemment accessibles par un clic droit sont désormais disponibles par un simple clic ou par des actions au clavier dans l'interface utilisateur.
                                </li>
                                <li>
                                    Affichage dynamique du texte : Dites adieu aux barres de défilement internes ! L'éditeur mis à jour ajuste dynamiquement sa taille sur la page, garantissant ainsi un affichage continu des textes volumineux sans avoir recours à des barres de défilement internes.
                                </li>
                            </ul>
                        </li>
                        <li>
                            <strong>Collage de texte intelligent :</strong>
                            <ul>
                                <li>
                                    <strong>Fonction «&nbsp;coller&nbsp;» intelligente :</strong> Oubliez les boutons «&nbsp;coller comme texte brut&nbsp;» et «&nbsp;coller depuis Word&nbsp;». L'éditeur avancé peut désormais détecter intelligemment la source du texte collé, en convertissant et en filtrant automatiquement les formats non valides. Si nécessaire, un nouveau bouton «&nbsp;Supprimer le format&nbsp;» est à votre disposition pour éliminer le formatage du texte sélectionné tout en préservant les éléments essentiels non stylistiques tels que les liens.
                                </li>
                            </ul>
                        </li>
                        <li>
                            <strong>Contrôle de la police :</strong>
                            <ul>
                                <li>
                                    <strong>Personnalisation de la taille de la police :</strong> Le bouton «&nbsp;Taille de police&nbsp;» vous permet d'ajuster facilement la taille de la police du texte sélectionné. Les tailles de police sont limitées à deux tailles tailles supérieures à la taille par défaut afin de garantir l'accessibilité.
                                </li>
                            </ul>
                        </li>
                        <li>
                            <strong>Édition améliorée du contenu :</strong>
                            <ul>
                                <li>
                                    <strong>Menu des symboles :</strong> L'éditeur dispose désormais d'un menu dédié à l'ajout de symboles, y compris de symboles mathématiques, ce qui simplifie l'intégration de symboles HTML dans votre contenu.
                                </li>
                                <li>
                                    <strong>Création de tableaux améliorée :</strong> Introduction d'une interface de création de tableaux plus intuitive, similaire à celle de la suite Office. Modifiez visuellement les tableaux avec facilité pour créer un contenu d'aspect professionnel sans effort.
                                </li>
                                <li>
                                    <strong>Fonctionnalité d'abréviation :</strong> Un nouveau bouton «&nbsp;Abréviation&nbsp;» vous permet d'ajouter du texte intégral à vos abréviations et acronymes en ajoutant des abréviations HTML (abbr) au texte sélectionné, améliorant ainsi la richesse, la clarté et l'accessibilité de votre contenu.
                                </li>
                                <li>
                                    <strong>Langue d'un passage :</strong> Le bouton «&nbsp;Langue d'un passage&nbsp;» a été amélioré pour vous permettre de définir plus facilement la langue opposée du cours, minimisant ainsi la confusion et rationalisant le processus de sélection de la langue.
                                </li>
                            </ul>
                        </li>
                    </ol>
                </textarea>
            </div>
            <div class="panel right">
                <h2 class="subtitles">Nouvel Éditeur <span class="sup-label" lang="en">(CK Editor 5)</span></h2>
                <div id="editor5">
                    <p>
                        <strong>Voici les principales caractéristiques du nouveau CK Editor 5</strong>
                    </p>
                    <ol>
                        <li>
                            <strong>Accessibilité conviviale :</strong>
                            <ul>
                                <li>
                                    Actions par clic droit : Le nouvel éditeur favorise l'accessibilité en éliminant les
                                    actions par clic droit. Toutes les fonctions précédemment accessibles par un clic
                                    droit sont désormais disponibles par un simple clic ou par des actions au clavier
                                    dans l'interface utilisateur.
                                </li>
                                <li>
                                    Affichage dynamique du texte : Dites adieu aux barres de défilement internes !
                                    L'éditeur mis à jour ajuste dynamiquement sa taille sur la page, garantissant ainsi
                                    un affichage continu des textes volumineux sans avoir recours à des barres de
                                    défilement internes.
                                </li>
                            </ul>
                        </li>
                        <li>
                            <strong>Collage de texte intelligent :</strong>
                            <ul>
                                <li>
                                    <strong>Fonction «&nbsp;coller&nbsp;» intelligente :</strong> Oubliez les boutons «&nbsp;coller comme texte brut&nbsp;» et
                                    «&nbsp;coller depuis Word&nbsp;». L'éditeur avancé peut désormais détecter
                                    intelligemment la source du texte
                                    collé, en convertissant et en filtrant automatiquement les formats non valides. Si
                                    nécessaire, un nouveau bouton «&nbsp;Supprimer le format&nbsp;» est à votre disposition pour
                                    éliminer le formatage du texte sélectionné tout en préservant les éléments
                                    essentiels non stylistiques tels que les liens.
                                </li>
                            </ul>
                        </li>
                        <li>
                            <strong>Contrôle de la police :</strong>
                            <ul>
                                <li>
                                    <strong>Personnalisation de la taille de la police :</strong> Le bouton
                                    «&nbsp;Taille de police&nbsp;» vous permet d'ajuster facilement la taille de la
                                    police du texte
                                    sélectionné. Les tailles de police sont limitées à deux tailles supérieures à la
                                    taille par défaut afin de garantir l'accessibilité.
                                </li>
                            </ul>
                        </li>
                        <li>
                            <strong>Édition améliorée du contenu :</strong>
                            <ul>
                                <li>
                                    <strong>Menu des symboles :</strong> L'éditeur dispose désormais d'un menu dédié à
                                    l'ajout de symboles, y compris de symboles mathématiques, ce qui simplifie
                                    l'intégration de symboles HTML dans votre contenu.
                                </li>
                                <li>
                                    <strong>Création de tableaux améliorée :</strong> Introduction d'une interface de
                                    création de tableaux plus intuitive, similaire à celle de la suite Office. Modifiez
                                    visuellement les tableaux avec facilité pour créer un contenu d'aspect professionnel
                                    sans effort.
                                </li>
                                <li>
                                    <strong>Fonctionnalité d'abréviation :</strong> Un nouveau bouton
                                    «&nbsp;Abréviation&nbsp;» vous
                                    permet d'ajouter du texte intégral à vos abréviations et acronymes en ajoutant des
                                    abréviations HTML (abbr) au texte sélectionné, améliorant ainsi la richesse, la
                                    clarté et l'accessibilité de votre contenu.
                                </li>
                                <li>
                                    <strong>Langue d'un passage :</strong> Le bouton «&nbsp;Langue d'un passage&nbsp;» a
                                    été
                                    amélioré pour vous permettre de définir plus facilement la langue opposée du cours,
                                    minimisant ainsi la confusion et rationalisant le processus de sélection de la
                                    langue.
                                </li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function () {
            let defaultLanguage = 'fr';

            let textLanguageParts = [
                defaultLanguage === 'en' ? { title: 'Français', languageCode: 'fr' } : { title: 'English', languageCode: 'en' }
            ];


            var language = 'fr';
            var watchdog = new CKSource.EditorWatchdog();
            watchdog.setCreator((element, config) => {
                return CKSource.Editor
                    .create(element, config)
                    .then(editor => {
                        const textpart = editor.ui.view.toolbar.items.find(button => $(button.element).hasClass('ck-text-fragment-language-dropdown'));
                        if (textpart) {
                            const label = language === 'en' ? 'Language of Parts' : 'Langue d’un passage';
                            $(textpart.element).find('.ck-button__label').text(label);
                        }
                        return editor;
                    });
            });

            watchdog
                .create(document.querySelector('#editor5'), {
                    language: {
                        ui: language,
                        textPartLanguage: textLanguageParts
                    },
                    unsafeElements: false,
                    htmlSupport: {
                        allow: [
                            {
                                // name: /^(div|span|svg|abbr|path)$/,
                                name: /.*/,
                                attributes: true,
                                classes: true,
                                styles: true,
                                content: true
                            }
                        ],
                        disallow: [
                            {
                                name: /^(script|video|audio|img|var)$/
                            }
                        ]
                    },
                    additionalLanguages: ['en', 'fr'],
                    fontSize: {
                        options: [
                            'default',
                            'big',
                            'huge'
                        ]
                    },
                    toolbar: {
                        items: [
                            'sourceEditing', 'showBlocks', '|',
                            'undo', 'redo', '|',
                            'findAndReplace', 'selectAll', '|',
                            'fontSize', '|',
                            'bold', 'italic', 'underline', 'strikethrough', 'subscript', 'superscript', 'removeFormat', '|',
                            'numberedList', 'bulletedList', 'alignment', 'indent', 'outdent', '|',
                            'blockQuote', '|',
                            'link', '|',
                            'fontColor', 'fontBackgroundColor', '|',
                            'specialCharacters', 'insertTable', '|', 'abbreviation', 'textPartLanguage'
                        ],
                        shouldNotGroupWhenFull: true
                    }
                })
                .catch((error) => { });
            this.editor = watchdog;
        })
    </script>

    <script>
        const tour = new Shepherd.Tour({
            defaultStepOptions: {
                cancelIcon: {
                    enabled: true
                },
                classes: 'class-1 class-2',
                scrollTo: { behavior: 'smooth', block: 'center' }
            }
        });

        tour.addStep({
            title: 'Mise à niveau de CK Editor',
            text: 'Nous sommes ravis d\'annoncer une mise à niveau importante de l\'éditeur de l\'outil de création Adapt, qui passe de la version 4 à la version 5 de l\'éditeur CK. Cette mise à niveau apporte un grand nombre de nouvelles fonctionnalités et d\'améliorations qui optimiseront votre expérience de création de contenu.',
            buttons: [
                {
                    action() {
                        return tour.cancel();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Fermer'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Suivant'
                }
            ],
            id: 'introduction'
        });

        tour.addStep({
            id: 'right-click',
            title: 'Actions par clic droit',
            text: 'Le nouvel éditeur favorise l\'accessibilité en éliminant les actions par clic droit. Toutes les fonctions précédemment accessibles par un clic droit sont désormais disponibles par un simple clic ou par des actions au clavier dans l\'interface utilisateur.',
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Retour'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Suivant'
                }
            ]
        });

        tour.addStep({
            id: 'scrollbars',
            title: 'Affichage dynamique du texte',
            text: 'Dites adieu aux barres de défilement internes ! L\'éditeur mis à jour ajuste dynamiquement sa taille sur la page, garantissant ainsi un affichage continu des textes volumineux sans avoir recours à des barres de défilement internes.',
            attachTo: {
                element: '.cke_editor_editor4',
                on: 'right'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Retour'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Suivant'
                }
            ]
        });

        tour.addStep({
            id: 'paste-1',
            title: 'Fonction «&nbsp;coller&nbsp;» intelligente',
            text: 'Oubliez les boutons «&nbsp;coller comme texte brut&nbsp;» et «&nbsp;coller depuis Word&nbsp;». L\'éditeur avancé peut désormais détecter intelligemment la source du texte collé, en convertissant et en filtrant automatiquement les formats non valides.',
            attachTo: {
                element: '.cke_button__pastefromword',
                on: 'right'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Retour'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Suivant'
                }
            ]
        });

        tour.addStep({
            id: 'paste-1',
            title: 'Fonction «&nbsp;coller&nbsp;» intelligente',
            text: 'Si nécessaire, un nouveau bouton «&nbsp;Supprimer le format&nbsp;» est à votre disposition pour éliminer le formatage du texte sélectionné tout en préservant les éléments essentiels non stylistiques tels que les liens.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Supprimer le format"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Retour'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Suivant'
                }
            ]
        });

        tour.addStep({
            id: 'font-control',
            title: 'Personnalisation de la taille de la police',
            text: 'Le bouton «&nbsp;Taille de police&nbsp;» vous permet d\'ajuster facilement la taille de la police du texte sélectionné. Les tailles de police sont limitées à deux tailles supérieures à la taille par défaut afin de garantir l\'accessibilité.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Taille de police"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Retour'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Suivant'
                }
            ]
        });

        tour.addStep({
            id: 'symbol-menu',
            title: 'Caractères spéciaux',
            text: 'L\'éditeur dispose désormais d\'un menu dédié à l\'ajout de symboles, y compris de symboles mathématiques, ce qui simplifie l\'intégration de symboles HTML dans votre contenu.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Caractères spéciaux"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Retour'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Suivant'
                }
            ]
        });

        tour.addStep({
            id: 'table-menu',
            title: 'Création de tableaux améliorée',
            text: 'Introduction d\'une interface de création de tableaux plus intuitive, similaire à celle de la suite Office. Modifiez visuellement les tableaux avec facilité pour créer un contenu d\'aspect professionnel sans effort.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Insérer un tableau"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Retour'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Suivant'
                }
            ]
        });

        tour.addStep({
            id: 'abbr-menu',
            title: 'Fonctionnalité d\'abréviation',
            text: 'Un nouveau bouton «&nbsp;Abréviation&nbsp;» vous permet d\'ajouter du texte intégral à vos abréviations et acronymes en ajoutant des abréviations HTML (abbr) au texte sélectionné, améliorant ainsi la richesse, la clarté et l\'accessibilité de votre contenu.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Abréviation"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Retour'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Suivant'
                }
            ]
        });

        tour.addStep({
            id: 'lang-part-menu',
            title: 'Langue d\'un passage',
            text: 'Le bouton «&nbsp;Langue d\'un passage&nbsp;» a été amélioré pour vous permettre de définir plus facilement la langue opposée du cours, minimisant ainsi la confusion et rationalisant le processus de sélection de la langue.',
            attachTo: {
                element: 'button[data-cke-tooltip-text="Langue"]',
                on: 'left'
            },
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Retour'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Suivant'
                }
            ]
        });

        tour.addStep({
            id: 'conclusion',
            title: 'Conclusion',
            text: 'Ceci met fin à la visite guidée. Après avoir fermé cette boîte de dialogue, vous pourrez utiliser l\'éditeur pour vous familiariser avec celui-ci. Si vous avez d\'autres questions, veuillez consulter votre représentant du groupe de travail sur les outils de création (GTOC) ou nous contacter à l\'adresse suivante : <a href="mailto:EDSC.DGSRH.STAA-TSBA.HRSB.ESDC@hrsdc-rhdcc.gc.ca?subject=Support%20technique%20-%20CK%20Editor%205">EDSC.DGSRH.STAA-TSBA.HRSB.ESDC@hrsdc-rhdcc.gc.ca</a>',
            classes: 'example-step-extra-class',
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Retour'
                },
                {
                    action() {
                        return tour.cancel();
                    },
                    text: 'Fermer'
                }
            ]
        });

        tour.start();
    </script>
</body>

</html>